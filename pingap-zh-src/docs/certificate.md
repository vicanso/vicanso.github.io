---
sidebar_position: 69
---

# 轻松管理 HTTPS 证书

Pingap 将繁琐的 HTTPS 证书配置流程变得前所未有的简单。无论是自动申请免费的 Let's Encrypt 证书，还是上传您自己的商业证书，都可以在统一的界面中轻松完成。

核心功能包括：

- 多样的验证方式：支持通过 HTTP-01 (公网端口) 和 DNS-01 (DNS记录) 两种方式自动申请 Let's Encrypt 证书。
- 全自动续期：系统会根据您设定的缓冲期，在证书过期前自动完成续订。
- 状态监控与告警：内置证书有效期监控，并通过 Webhook 发送过期告警。


## 方式一：使用 Let's Encrypt 自动申请

Pingap 会通过 ACME 协议自动处理证书的申请、验证和续期。根据您的网络环境，可以选择以下两种验证方式。

验证方式 1: HTTP-01 Challenge (默认)

此方式最简单，但要求您的服务器能被公网直接访问。

适用场景：服务器有公网 IP，且防火墙允许外部访问 80 端口，单节点部署

操作步骤：

- 在`证书管理`页面，点击`添加证书`。
- 输入您的域名，并确保域名已正确解析到服务器的公网 IP。
- 在`ACME 服务`下拉框中，选择`lets_encrypt`。
- 保持`启用 DNS Challenge`不勾选。
- 点击`保存`。



验证方式 2: DNS-01 Challenge (更灵活)

此方式通过修改 DNS 记录来验证域名所有权，无需暴露任何服务器端口。

适用场景：

服务器没有公网 IP，或 80 端口被占用/屏蔽。

需要申请通配符证书（注意：domains 字段本身仍需明确列出）。

操作步骤：

- 在`证书管理`页面，点击`添加证书`。
- 输入您的域名。
- 在`ACME 服务`下拉框中，选择`lets_encrypt`。
- 勾选`启用 DNS Challenge`。
- 在`DNS 提供商`字段中，选择您的 DNS 服务商（如 cloudflare，阿里云），暂时只支持4家云服务，若不支持的只能选择手工配置。
- 点击`保存`。


## 方式二：手动上传已有证书

如果您已经从其他证书颁发机构 (CA) 购买了证书，或者使用内部签发的证书，可以按以下步骤上传。

- 在`添加证书`页面，将您的域名填写在`域名 (Domains)`字段中。
- 使用文本编辑器打开您的证书公钥文件（通常是 your_domain.pem 或 fullchain.pem），将其全部内容复制并粘贴到`证书公钥 (tls_cert)`字段中。
- 同样地，打开您的证书私钥文件（通常是 your_domain.key），将其全部内容复制并粘贴到 证书私钥 (tls_key) 字段中。
- 点击`保存`。

## 参数详解


| 参数            | 是否必需     | 说明                                                                                                    |
| --------------- | ------------ | ------------------------------------------------------------------------------------------------------- |
| domains         | 是           | 证书关联的域名列表，多个用逗号 , 分隔。                                                                 |
| is_default      | 否           | 是否设为默认证书。当客户端请求的域名（通过 SNI）无法匹配任何证书时，将使用此证书。                      |
| is_ca           | 否           | 标记此证书为 CA 根证书，用于透明代理等场景。普通用户请勿勾选。                                          |
| tls_cert        | 是           | 证书的公钥（Public Key），PEM 格式。使用 ACME 申请时，此字段由系统自动填充，若手动上传则需要手动填写。  |
| tls_key         | 是           | 证书的私钥（Private Key），PEM 格式。使用 ACME 申请时，此字段由系统自动填充，若手动上传则需要手动填写。 |
| acme            | 自动申请时是 | ACME 证书申请服务。目前仅支持 lets_encrypt。                                                            |
| dns_challenge   | 否           | 是否启用 DNS-01 方式进行域名验证。需要 DNS 提供商的 API 支持。                                          |
| dns_provider    | 否           | DNS 提供商的名称，如 cloudflare, godaddy 等。                                                           |
| dns_service_url | 否           | 部分 DNS 提供商可能需要指定的 API 地址。                                                                |
| buffer_days     | 否           | 证书续期的缓冲天数。系统将在 有效期 < 缓冲天数 时触发自动续期。                                         |

