---
sidebar_position: 81
---

# 常见问题

## Host 请求头的设置

当多个服务共用同一端口，并通过请求头的 `Host` 字段来区分不同服务时，需要在 Location 配置中显式设置转发的 `Host` 请求头。

## Upstream 地址配置说明

Upstream 地址由 IP 和端口组成。如果未指定端口，HTTP 服务默认使用 `80` 端口，HTTPS 服务默认使用 `443` 端口。

需要注意：使用域名作为地址时，默认的服务发现机制只会在初始化时将域名解析为 IP（如果解析到多个 IP，则会添加多个地址）。后续域名对应的 IP 变化将无法实时感知。如果您的场景中 IP 地址会动态变化，建议使用 DNS 服务发现方式。

## 线程配置说明

Pingap 的线程配置是基于 Server 级别的，默认值为 1。您可以：
- 为每个 Server 单独设置线程数
- 在基础配置中设置全局默认值（未单独指定的 Server 将使用此值）
- 设置为 0 则自动使用与 CPU 核心数相同的线程数

## HTTPS Upstream 配置

当 Upstream 使用 HTTPS 协议时，需要：
1. 设置对应的 SNI（服务器名称指示）
2. 如果不指定上游节点端口，将默认使用 HTTPS 标准端口 `443`

## 多域名 HTTPS 服务配置

要在同一个 Server 上提供多个域名的 HTTPS 服务，只需：
1. 在证书管理中添加相应的证书
2. 将服务配置为"使用应用的全局证书"
