"use strict";(self.webpackChunkpingap=self.webpackChunkpingap||[]).push([[3624],{6496:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"performance","title":"\u6027\u80fd\u6d4b\u8bd5","description":"\u6027\u80fd\u6d4b\u8bd5\u662f\u4e00\u4e2a\u573a\u666f\u590d\u6742\u4e14\u4f9d\u8d56\u5404\u79cd\u573a\u666f\u7684\u6d41\u7a0b\uff0c\u56e0\u6b64\u4e0b\u9762\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u6d4b\u8bd5\u573a\u666f\u3002","source":"@site/docs/performance.md","sourceDirName":".","slug":"/performance","permalink":"/pingap-zh/docs/performance","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/performance.md","tags":[],"version":"current","sidebarPosition":161,"frontMatter":{"sidebar_position":161},"sidebar":"tutorialSidebar","previous":{"title":"\u5e38\u89c1\u95ee\u9898 (FAQ)","permalink":"/pingap-zh/docs/question"}}');var a=s(4848),c=s(8453);const r={sidebar_position:161},i="\u6027\u80fd\u6d4b\u8bd5",d={},o=[{value:"Nginx\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09",id:"nginx\u65e0\u8bbf\u95ee\u65e5\u5fd7",level:3},{value:"Pingap\u8f6c\u53d1\u81f3nginx",id:"pingap\u8f6c\u53d1\u81f3nginx",level:3},{value:"Pingap \u54cd\u5e94 230kb \u7684 css",id:"pingap-\u54cd\u5e94-230kb-\u7684-css",level:3},{value:"\u538b\u7f29",id:"\u538b\u7f29",level:3},{value:"\u7f13\u5b58",id:"\u7f13\u5b58",level:3}];function h(n){const e={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u6027\u80fd\u6d4b\u8bd5",children:"\u6027\u80fd\u6d4b\u8bd5"})}),"\n",(0,a.jsx)(e.p,{children:"\u6027\u80fd\u6d4b\u8bd5\u662f\u4e00\u4e2a\u573a\u666f\u590d\u6742\u4e14\u4f9d\u8d56\u5404\u79cd\u573a\u666f\u7684\u6d41\u7a0b\uff0c\u56e0\u6b64\u4e0b\u9762\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u6d4b\u8bd5\u573a\u666f\u3002"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"Architecture:     x86_64 (\u67b6\u6784)\nCPU op-mode(s):   32-bit, 64-bit\nByte Order:       Little Endian\nCPU(s):           16       (\u603b\u903b\u8f91\u6838\u5fc3\u6570/\u7ebf\u7a0b\u6570)\nOn-line CPU(s) list: 0-15\nThread(s) per core: 2        (\u6bcf\u4e2a\u7269\u7406\u6838\u5fc3\u7684\u7ebf\u7a0b\u6570\uff0c2\u4ee3\u8868\u5f00\u542f\u4e86\u8d85\u7ebf\u7a0b)\nModel name:       Intel(R) Core(TM) i5-13400 @ 4.60GHz (CPU\u578b\u53f7)\nL3 cache:         20 MiB   (L3\u7f13\u5b58\u5927\u5c0f\uff0c\u5bf9\u6027\u80fd\u5f71\u54cd\u663e\u8457)\n"})}),"\n",(0,a.jsx)(e.h3,{id:"nginx\u65e0\u8bbf\u95ee\u65e5\u5fd7",children:"Nginx\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09"}),"\n",(0,a.jsx)(e.p,{children:"nginx\u7684\u53ea\u662f\u7528\u6765\u505a\u4e00\u4e2a\u6bd4\u5bf9\u4f7f\u7528"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 'http://127.0.0.1:8080/api/json' --latency\nRunning 10s test @ http://127.0.0.1:8080/api/json\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    15.97ms   63.05ms   1.02s    95.53%\n    Req/Sec    20.22k     1.62k   27.58k    90.20%\n  Latency Distribution\n     50%    4.66ms\n     75%    4.72ms\n     90%    4.81ms\n     99%  336.44ms\n  2011820 requests in 10.03s, 640.82MB read\n  Socket errors: connect 0, read 2986, write 0, timeout 0\nRequests/sec: 200591.12\nTransfer/sec:     63.89MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"pingap\u8f6c\u53d1\u81f3nginx",children:"Pingap\u8f6c\u53d1\u81f3nginx"}),"\n",(0,a.jsx)(e.p,{children:"Threads: 1"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 --latency http://127.0.0.1:8090/api/test\nRunning 10s test @ http://127.0.0.1:8090/api/test\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    38.75ms   51.25ms 193.70ms   79.22%\n    Req/Sec    14.16k     1.91k   20.05k    71.10%\n  Latency Distribution\n     50%    1.79ms\n     75%   75.46ms\n     90%  127.35ms\n     99%  161.89ms\n  1408545 requests in 10.02s, 374.78MB read\nRequests/sec: 140565.72\nTransfer/sec:     37.40MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 2"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 --latency http://127.0.0.1:8090/api/test\nRunning 10s test @ http://127.0.0.1:8090/api/test\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     8.63ms   10.23ms  69.29ms   80.18%\n    Req/Sec    23.66k     1.44k   26.51k    87.40%\n  Latency Distribution\n     50%    1.72ms\n     75%   15.59ms\n     90%   25.36ms\n     99%   36.10ms\n  2354115 requests in 10.03s, 626.37MB read\nRequests/sec: 234789.28\nTransfer/sec:     62.47MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 3"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 --latency http://127.0.0.1:8090/api/test\nRunning 10s test @ http://127.0.0.1:8090/api/test\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     3.97ms    3.91ms  43.27ms   81.21%\n    Req/Sec    32.74k     1.13k   35.76k    87.20%\n  Latency Distribution\n     50%    1.64ms\n     75%    6.51ms\n     90%    9.81ms\n     99%   15.25ms\n  3257197 requests in 10.02s, 866.66MB read\nRequests/sec: 324922.79\nTransfer/sec:     86.45MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 4"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 --latency http://127.0.0.1:8090/api/test\nRunning 10s test @ http://127.0.0.1:8090/api/test\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     2.92ms    2.49ms  24.68ms   78.64%\n    Req/Sec    39.91k   813.08    42.53k    69.60%\n  Latency Distribution\n     50%    1.71ms\n     75%    4.55ms\n     90%    6.64ms\n     99%   10.23ms\n  3970942 requests in 10.02s, 1.03GB read\nRequests/sec: 396274.98\nTransfer/sec:    105.44MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"pingap-\u54cd\u5e94-230kb-\u7684-css",children:"Pingap \u54cd\u5e94 230kb \u7684 css"}),"\n",(0,a.jsx)(e.p,{children:"Threads: 4"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -c 1000 -t 10 --latency http://127.0.0.1:8090/bootstrap.min.css\nRunning 10s test @ http://127.0.0.1:8090/bootstrap.min.css\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    67.17ms   34.21ms   1.09s    70.01%\n    Req/Sec   744.58    263.37     1.35k    63.00%\n  Latency Distribution\n     50%   64.98ms\n     75%   90.87ms\n     90%  105.10ms\n     99%  124.30ms\n  74121 requests in 10.02s, 16.05GB read\nRequests/sec:   7393.88\nTransfer/sec:      1.60GB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"\u538b\u7f29",children:"\u538b\u7f29"}),"\n",(0,a.jsxs)(e.p,{children:["\u6d4b\u8bd5\u5ba2\u6237\u7aef\u538b\u7f29\u5404\u79cd\u4e0d\u540c\u538b\u7f29\u683c\u5f0f\u65f6\u7684\u5904\u7406\u6027\u80fd\uff0c\u538b\u7f29\u7b97\u6cd5\u4f7f\u7528\u7684\u538b\u7f29\u7ea7\u522b\u4e3a\uff1agzip(6)\uff0c br(6)\uff0czstd(6)\uff0c\u5b9e\u9645\u4f7f\u7528\u6309\u9700\u8bbe\u7f6e\uff0c",(0,a.jsx)(e.code,{children:"Pingap"})," \u5747\u8bbe\u7f6e\u4e3a4\u7ebf\u7a0b\u3002"]}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301gzip\u538b\u7f29(\u54cd\u5e94\u6570\u636e30.2KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'wrk -c 1000 -t 10 --latency -H "accept-encoding: gzip" http://127.0.0.1:8090/bootstrap.min.css\nRunning 10s test @ http://127.0.0.1:8090/bootstrap.min.css\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   306.29ms  124.46ms   1.33s    56.06%\n    Req/Sec   160.07     76.51   660.00     74.57%\n  Latency Distribution\n     50%  310.72ms\n     75%  418.42ms\n     90%  468.79ms\n     99%  525.62ms\n  15948 requests in 10.02s, 468.26MB read\nRequests/sec:   1591.26\nTransfer/sec:     46.72MB\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301br\u538b\u7f29(\u54cd\u5e94\u6570\u636e26.8KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'wrk -c 1000 -t 10 --latency -H "accept-encoding: br" http://127.0.0.1:8090/bootstrap.min.css\nRunning 10s test @ http://127.0.0.1:8090/bootstrap.min.css\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   481.04ms  188.25ms   1.63s    68.02%\n    Req/Sec   102.31     52.41   610.00     84.20%\n  Latency Distribution\n     50%  479.02ms\n     75%  630.50ms\n     90%  727.51ms\n     99%  825.87ms\n  10058 requests in 10.02s, 254.64MB read\nRequests/sec:   1003.75\nTransfer/sec:     25.41MB\n'})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301zstd\u538b\u7f29(\u54cd\u5e94\u6570\u636e29.0KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'wrk -c 1000 -t 10 --latency -H "accept-encoding: zstd" http://127.0.0.1:8090/bootstrap.min.css\nRunning 10s test @ http://127.0.0.1:8090/bootstrap.min.css\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   295.13ms  129.33ms   1.45s    66.63%\n    Req/Sec   166.25     53.38   510.00     76.48%\n  Latency Distribution\n     50%  284.72ms\n     75%  391.32ms\n     90%  466.32ms\n     99%  574.70ms\n  16562 requests in 10.03s, 464.94MB read\nRequests/sec:   1651.31\nTransfer/sec:     46.36MB\n'})}),"\n",(0,a.jsx)(e.h3,{id:"\u7f13\u5b58",children:"\u7f13\u5b58"}),"\n",(0,a.jsxs)(e.p,{children:["\u4f7f\u7528\u7f13\u5b58\u63d2\u4ef6\uff0c\u5c06\u6570\u636e\u6309\u538b\u7f29\u7c7b\u578b\u7f13\u5b58\uff0c\u7531\u4e8e\u6b64\u65f6\u538b\u7f29\u4ec5\u5728\u9996\u6b21\u65f6\u6267\u884c\uff0c\u56e0\u6b64\u65e0\u8bba\u54ea\u79cd\u538b\u7f29\u65b9\u5f0f\u5747\u5bf9\u8d44\u6e90\u5360\u7528\u5f88\u591a\uff0c",(0,a.jsx)(e.code,{children:"Pingap"})," \u5747\u8bbe\u7f6e\u4e3a4\u7ebf\u7a0b\u3002"]}),"\n",(0,a.jsxs)(e.p,{children:["\u4ee5\u4e0b\u7684\u538b\u6d4b\u7ed3\u679c\u53ef\u4ee5\u770b\u51fa\uff0c\u540c\u6837\u662f\u8bbe\u7f6e4\u7ebf\u7a0b\uff0c",(0,a.jsx)(e.code,{children:"Requests/sec"}),"\u7531",(0,a.jsx)(e.code,{children:"1651"}),"\u63d0\u5347\u5230",(0,a.jsx)(e.code,{children:"160583"}),"\uff0c\u8fd1\u767e\u500d\u7684\u63d0\u5347\u3002"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:'wrk -c 1000 -t 10 --latency -H "accept-encoding: zstd" http://127.0.0.1:8090/bootstrap.min.css\nRunning 10s test @ http://127.0.0.1:8090/bootstrap.min.css\n  10 threads and 1000 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     6.42ms    4.55ms  32.84ms   69.08%\n    Req/Sec    16.17k   472.05    17.52k    68.70%\n  Latency Distribution\n     50%    4.46ms\n     75%   10.18ms\n     90%   13.01ms\n     99%   17.80ms\n  1608492 requests in 10.02s, 45.01GB read\nRequests/sec: 160583.24\nTransfer/sec:      4.49GB\n'})})]})}function p(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>r,x:()=>i});var t=s(6540);const a={},c=t.createContext(a);function r(n){const e=t.useContext(c);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),t.createElement(c.Provider,{value:e},n.children)}}}]);