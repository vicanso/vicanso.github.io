"use strict";(self.webpackChunkpingap=self.webpackChunkpingap||[]).push([[3624],{6496:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"performance","title":"\u6027\u80fd\u6d4b\u8bd5","description":"\u6027\u80fd\u6d4b\u8bd5\u662f\u4e00\u4e2a\u573a\u666f\u590d\u6742\u4e14\u4f9d\u8d56\u5404\u79cd\u573a\u666f\u7684\u6d41\u7a0b\uff0c\u56e0\u6b64\u4e0b\u9762\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u6d4b\u8bd5\u573a\u666f\u3002","source":"@site/docs/performance.md","sourceDirName":".","slug":"/performance","permalink":"/pingap-zh/docs/performance","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/performance.md","tags":[],"version":"current","sidebarPosition":100,"frontMatter":{"sidebar_position":100},"sidebar":"tutorialSidebar","previous":{"title":"\u5e38\u89c1\u95ee\u9898","permalink":"/pingap-zh/docs/question"}}');var a=s(4848),c=s(8453);const r={sidebar_position:100},i="\u6027\u80fd\u6d4b\u8bd5",d={},h=[{value:"Nginx\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09",id:"nginx\u65e0\u8bbf\u95ee\u65e5\u5fd7",level:3},{value:"Pingap\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09",id:"pingap\u65e0\u8bbf\u95ee\u65e5\u5fd7",level:3},{value:"Pingap\u8f6c\u53d1\u81f3nginx",id:"pingap\u8f6c\u53d1\u81f3nginx",level:3},{value:"Pingap \u54cd\u5e94 8kb \u7684 html",id:"pingap-\u54cd\u5e94-8kb-\u7684-html",level:3},{value:"\u538b\u7f29",id:"\u538b\u7f29",level:3},{value:"\u7f13\u5b58",id:"\u7f13\u5b58",level:3}];function l(n){const e={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"\u6027\u80fd\u6d4b\u8bd5",children:"\u6027\u80fd\u6d4b\u8bd5"})}),"\n",(0,a.jsx)(e.p,{children:"\u6027\u80fd\u6d4b\u8bd5\u662f\u4e00\u4e2a\u573a\u666f\u590d\u6742\u4e14\u4f9d\u8d56\u5404\u79cd\u573a\u666f\u7684\u6d41\u7a0b\uff0c\u56e0\u6b64\u4e0b\u9762\u53ea\u662f\u505a\u4e86\u7b80\u5355\u7684\u6d4b\u8bd5\u573a\u666f\u3002"}),"\n",(0,a.jsx)(e.p,{children:"CPU: M2"}),"\n",(0,a.jsx)(e.h3,{id:"nginx\u65e0\u8bbf\u95ee\u65e5\u5fd7",children:"Nginx\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09"}),"\n",(0,a.jsx)(e.p,{children:"nginx\u7684\u53ea\u662f\u7528\u6765\u505a\u4e00\u4e2a\u6bd4\u5bf9\u4f7f\u7528"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:9080/' --latency\n\nRunning 10s test @ http://127.0.0.1:9080/\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   393.55us    2.39ms  32.81ms   97.72%\n    Req/Sec    72.68k     5.98k   86.25k    87.13%\n  Latency Distribution\n     50%   65.00us\n     75%   71.00us\n     90%   78.00us\n     99%   14.87ms\n  1460643 requests in 10.10s, 208.95MB read\nRequests/sec: 144598.99\nTransfer/sec:     20.69MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"pingap\u65e0\u8bbf\u95ee\u65e5\u5fd7",children:"Pingap\uff08\u65e0\u8bbf\u95ee\u65e5\u5fd7\uff09"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:6188/ping' --latency\n\nRunning 10s test @ http://127.0.0.1:6188/ping\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    66.18us   28.39us   2.30ms   85.24%\n    Req/Sec    74.43k     1.75k   76.25k    97.03%\n  Latency Distribution\n     50%   70.00us\n     75%   77.00us\n     90%   83.00us\n     99%  100.00us\n  1495363 requests in 10.10s, 195.37MB read\nRequests/sec: 148056.28\nTransfer/sec:     19.34MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"pingap\u8f6c\u53d1\u81f3nginx",children:"Pingap\u8f6c\u53d1\u81f3nginx"}),"\n",(0,a.jsx)(e.p,{children:"Threads: 1"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:6188/proxy-nginx'  --latency\n\nRunning 10s test @ http://127.0.0.1:6188/proxy-nginx\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   206.46us  151.03us   7.28ms   98.62%\n    Req/Sec    25.06k     1.16k   29.07k    87.13%\n  Latency Distribution\n     50%  211.00us\n     75%  224.00us\n     90%  239.00us\n     99%  391.00us\n  503591 requests in 10.10s, 72.04MB read\nRequests/sec:  49862.65\nTransfer/sec:      7.13MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 2"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:6188/proxy-nginx'  --latency\n\nRunning 10s test @ http://127.0.0.1:6188/proxy-nginx\n 2 threads and 10 connections\n Thread Stats   Avg      Stdev     Max   +/- Stdev\n   Latency   161.04us  753.69us  19.29ms   99.23%\n   Req/Sec    44.96k     2.73k   48.65k    73.76%\n Latency Distribution\n    50%  107.00us\n    75%  125.00us\n    90%  143.00us\n    99%  299.00us\n 903504 requests in 10.10s, 129.25MB read\nRequests/sec:  89449.37\nTransfer/sec:     12.80MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 3 (\u8bbe\u7f6e\u4e3a3\u4e2a\u7ebf\u7a0b\u6548\u679c\u6bd42\u4e2a\u7ebf\u7a0b\u63d0\u5347\u5f88\u5c11\uff0c\u4f30\u8ba1\u6709\u5168\u5c40\u7684\u9501\u4e4b\u7c7b\u5f71\u54cd\uff0c\u540e\u7eed\u786e\u8ba4)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:6188/proxy-nginx'  --latency\n\nRunning 10s test @ http://127.0.0.1:6188/proxy-nginx\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   111.73us  277.33us  10.84ms   99.54%\n    Req/Sec    48.06k     3.35k   74.58k    87.56%\n  Latency Distribution\n     50%   95.00us\n     75%  115.00us\n     90%  134.00us\n     99%  193.00us\n  961184 requests in 10.10s, 137.50MB read\nRequests/sec:  95160.18\nTransfer/sec:     13.61MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"pingap-\u54cd\u5e94-8kb-\u7684-html",children:"Pingap \u54cd\u5e94 8kb \u7684 html"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://127.0.0.1:6188/downloads/index.html' --latency\n\nRunning 10s test @ http://127.0.0.1:6188/downloads/index.html\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   225.84us   59.47us   1.83ms   78.04%\n    Req/Sec    22.17k     1.94k   25.25k    87.13%\n  Latency Distribution\n     50%  222.00us\n     75%  247.00us\n     90%  286.00us\n     99%  418.00us\n  445764 requests in 10.10s, 3.16GB read\nRequests/sec:  44134.06\nTransfer/sec:    320.01MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"\u538b\u7f29",children:"\u538b\u7f29"}),"\n",(0,a.jsx)(e.p,{children:"\u6d4b\u8bd5\u5ba2\u6237\u7aef\u538b\u7f29\u5404\u79cd\u4e0d\u540c\u538b\u7f29\u683c\u5f0f\u65f6\u7684\u5904\u7406\u6027\u80fd\uff08\u6570\u636e\u5728\u5185\u5b58\u4e2d\u8bfb\u53d6\uff0c\u56e0\u6b64\u4e3b\u8981\u8017\u65f6\u5728\u538b\u7f29\u5904\u7406\uff09\uff0c\u6240\u6709\u538b\u7f29\u7b97\u6cd5\u7684\u538b\u7f29\u7ea7\u522b\u5747\u9009\u62e99\uff0c\u5b9e\u9645\u4f7f\u7528\u6309\u9700\u8bbe\u7f6e\u3002"}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u4e0d\u652f\u6301\u538b\u7f29(\u54cd\u5e94\u6570\u636e24KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk 'http://localhost:6118/' --latency\nRunning 10s test @ http://localhost:6118/\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   110.61us   62.30us   3.71ms   87.06%\n    Req/Sec    44.96k     1.13k   46.16k    93.07%\n  Latency Distribution\n     50%  117.00us\n     75%  125.00us\n     90%  133.00us\n     99%  164.00us\n  903688 requests in 10.10s, 22.26GB read\nRequests/sec:  89474.79\nTransfer/sec:      2.20GB\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301gzip\u538b\u7f29(\u54cd\u5e94\u6570\u636e2.87KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H \"accept-encoding: gzip\" 'http://localhost:6118/' --latency\nRunning 10s test @ http://localhost:6118/\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     1.59ms  525.65us   7.55ms   86.09%\n    Req/Sec     3.16k   156.64     3.36k    93.56%\n  Latency Distribution\n     50%    1.72ms\n     75%    1.80ms\n     90%    1.88ms\n     99%    2.25ms\n  63484 requests in 10.10s, 182.42MB read\nRequests/sec:   6285.12\nTransfer/sec:     18.06MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301br\u538b\u7f29(\u54cd\u5e94\u6570\u636e2.46KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H \"accept-encoding: br\" 'http://localhost:6118/' --latency\nRunning 10s test @ http://localhost:6118/\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    16.62ms    5.41ms  54.96ms   88.28%\n    Req/Sec   302.12     24.46   353.00     83.00%\n  Latency Distribution\n     50%   18.03ms\n     75%   18.61ms\n     90%   19.47ms\n     99%   21.99ms\n  6023 requests in 10.01s, 14.85MB read\nRequests/sec:    601.55\nTransfer/sec:      1.48MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301zstd\u538b\u7f29(\u54cd\u5e94\u6570\u636e2.73KB)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H \"accept-encoding: zstd\" 'http://localhost:6118/' --latency\nRunning 10s test @ http://localhost:6118/\n 2 threads and 10 connections\n Thread Stats   Avg      Stdev     Max   +/- Stdev\n   Latency     2.19ms    0.93ms  23.19ms   85.73%\n   Req/Sec     2.32k   169.74     2.50k    92.50%\n Latency Distribution\n    50%    2.32ms\n    75%    2.46ms\n    90%    2.59ms\n    99%    3.53ms\n 46183 requests in 10.01s, 126.27MB read\nRequests/sec:   4612.25\nTransfer/sec:     12.61MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"\u5ba2\u6237\u7aef\u652f\u6301zstd\u538b\u7f29\uff0c\u670d\u52a1\u8bbe\u7f6e\u4e3a2\u4e2a\u7ebf\u7a0b"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H \"accept-encoding: zstd\" 'http://localhost:6118/' --latency\n\nRunning 10s test @ http://localhost:6118/\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency     1.33ms  540.17us   9.68ms   69.88%\n    Req/Sec     3.79k   201.55     4.21k    77.72%\n  Latency Distribution\n     50%    1.30ms\n     75%    1.72ms\n     90%    1.97ms\n     99%    2.47ms\n  76162 requests in 10.10s, 208.24MB read\nRequests/sec:   7540.73\nTransfer/sec:     20.62MB\n"})}),"\n",(0,a.jsx)(e.h3,{id:"\u7f13\u5b58",children:"\u7f13\u5b58"}),"\n",(0,a.jsx)(e.p,{children:"Threads: 1"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H 'Accept-Encoding: gzip, deflate, br, zstd' 'http://localhost:6118/cache'\nRunning 10s test @ http://localhost:6118/cache\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency   183.82us   62.06us   2.30ms   86.60%\n    Req/Sec    27.27k   554.92    28.68k    92.57%\n  548062 requests in 10.10s, 2.07GB read\nRequests/sec:  54263.03\nTransfer/sec:    209.89MB\n"})}),"\n",(0,a.jsx)(e.p,{children:"Threads: 2"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"wrk -H 'Accept-Encoding: gzip, deflate, br, zstd' 'http://localhost:6118/cache'\nRunning 10s test @ http://localhost:6118/cache\n  2 threads and 10 connections\n  Thread Stats   Avg      Stdev     Max   +/- Stdev\n    Latency    98.40us   47.66us   2.52ms   79.75%\n    Req/Sec    50.40k     4.23k   53.03k    91.58%\n  1013154 requests in 10.10s, 3.83GB read\nRequests/sec: 100318.26\nTransfer/sec:    388.01MB\n"})})]})}function u(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(l,{...n})}):l(n)}}}]);