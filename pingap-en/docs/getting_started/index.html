<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-getting_started" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Getting Started Tutorial | Pingap</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vicanso.github.io/pingap-en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vicanso.github.io/pingap-en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vicanso.github.io/pingap-en/docs/getting_started"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Getting Started Tutorial | Pingap"><meta data-rh="true" name="description" content="Welcome to Pingap! This tutorial will guide you from scratch, step by step, to build, configure, and run a fully-featured, high-performance reverse proxy service. We will start with the simplest launch, complete all core configurations through the Web admin interface, and finally run it stably in daemon mode."><meta data-rh="true" property="og:description" content="Welcome to Pingap! This tutorial will guide you from scratch, step by step, to build, configure, and run a fully-featured, high-performance reverse proxy service. We will start with the simplest launch, complete all core configurations through the Web admin interface, and finally run it stably in daemon mode."><link data-rh="true" rel="icon" href="/pingap-en/img/pingap.png"><link data-rh="true" rel="canonical" href="https://vicanso.github.io/pingap-en/docs/getting_started"><link data-rh="true" rel="alternate" href="https://vicanso.github.io/pingap-en/docs/getting_started" hreflang="en"><link data-rh="true" rel="alternate" href="https://vicanso.github.io/pingap-en/docs/getting_started" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QJ6H7139JP-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Getting Started Tutorial","item":"https://vicanso.github.io/pingap-en/docs/getting_started"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Pingap" href="/pingap-en/opensearch.xml"><link rel="stylesheet" href="/pingap-en/assets/css/styles.975a7111.css">
<script src="/pingap-en/assets/js/runtime~main.3af90529.js" defer="defer"></script>
<script src="/pingap-en/assets/js/main.4bdbaeda.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pingap-en/"><div class="navbar__logo"><img src="/pingap-en/img/pingap.png" alt="Pingap Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pingap-en/img/pingap.png" alt="Pingap Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Pingap</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pingap-en/docs/introduction">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="http://pingap.io/pingap-zh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">中文<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/vicanso/pingap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/introduction">What is Pingap?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/pingap-en/docs/getting_started">Getting Started Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/argument">Command-Line Arguments and Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/config">Detailed Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/log">Access Log Formatting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/certificate">Easily Manage HTTPS Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/plugin">Plugin System</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pingap-en/docs/plugins/">Plugin Overview and Index</a><button aria-label="Expand sidebar category &#x27;Plugin Overview and Index&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/docker">Deploying Pingap with Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/question">Frequently Asked Questions (FAQ)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pingap-en/docs/performance">性能测试</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pingap-en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Getting Started Tutorial</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Getting Started Tutorial</h1></header>
<p>Welcome to Pingap! This tutorial will guide you from scratch, step by step, to build, configure, and run a fully-featured, high-performance reverse proxy service. We will start with the simplest launch, complete all core configurations through the Web admin interface, and finally run it stably in daemon mode.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Before we begin, please ensure you have downloaded and installed the <code>pingap</code> binary executable.</p>
<p>This tutorial will use the filesystem to store all configuration information, which is the most straightforward method for most scenarios. We will store all configuration files in the <code>/opt/pingap/conf</code> directory.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create the configuration directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p /opt/pingap/conf</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-first-start-and-the-web-admin-interface">Step 1: First Start and the Web Admin Interface<a href="#step-1-first-start-and-the-web-admin-interface" class="hash-link" aria-label="Direct link to Step 1: First Start and the Web Admin Interface" title="Direct link to Step 1: First Start and the Web Admin Interface">​</a></h3>
<p>For beginners, the quickest way to get started is to launch Pingap with its built-in Web admin interface enabled. This allows us to complete all configurations in a graphical interface.</p>
<p>Execute the following command to start <code>pingap</code> for the first time:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># -c specifies the configuration directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># --admin enables the Web admin interface, format: &lt;user&gt;:&lt;password&gt;@&lt;listen_addr&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUST_LOG=INFO pingap -c /opt/pingap/conf --admin=pingap:YourSecurePassword@127.0.0.1:3018</span><br></span></code></pre></div></div>
<p><strong>Command Breakdown</strong>:</p>
<ul>
<li><code>RUST_LOG=INFO</code>: Sets the log level to <code>INFO</code> to easily observe the program&#x27;s running status. If you need more detailed logs, you can set it to <code>DEBUG</code>.</li>
<li><code>-c /opt/pingap/conf</code>: Specifies the storage directory for configuration files. <code>pingap</code> will automatically read and write <code>*.toml</code> configuration files in this directory.</li>
<li><code>--admin=pingap:YourSecurePassword@127.0.0.1:3018</code>: Enables the admin interface.<!-- -->
<ul>
<li><code>Username</code>: pingap</li>
<li><code>Password</code>: YourSecurePassword (Please be sure to replace this with your own strong password!)</li>
<li><code>Listen Address</code>: <code>127.0.0.1:3018</code>, which means it only listens on port 3018 locally. For a server, you can set this to <code>0.0.0.0:3018</code> or the server&#x27;s IP.</li>
</ul>
</li>
</ul>
<p>🔒 <strong>Security Tip</strong>
To prevent brute-force attacks, the admin interface has a built-in login protection mechanism: if the same IP enters the wrong password multiple times, it will be temporarily locked for 5 minutes.</p>
<p>Now, open your browser and navigate to <code>http://127.0.0.1:3018</code>. You will see the login page. Enter the username and password you just set to access the admin interface.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-understanding-the-core-configuration-flow">Step 2: Understanding the Core Configuration Flow<a href="#step-2-understanding-the-core-configuration-flow" class="hash-link" aria-label="Direct link to Step 2: Understanding the Core Configuration Flow" title="Direct link to Step 2: Understanding the Core Configuration Flow">​</a></h3>
<p>In <code>pingap</code>, a complete proxy service is composed of three core concepts with a dependency relationship:</p>
<ol>
<li><strong>Upstream</strong>: Defines the addresses and properties of the real backend services (e.g., health checks, timeouts).</li>
<li><strong>Location</strong>: Defines the matching rules for requests (e.g., domain, path) and which <strong>Upstream</strong> to forward them to.</li>
<li><strong>Server</strong>: Defines the port and protocol that Pingap listens on and binds a set of <strong>Location</strong> rules to it.</li>
</ol>
<p>Therefore, our configuration sequence should be: first create an Upstream → then create a Location → and finally create a Server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-completing-the-proxy-configuration-via-the-web-ui">Step 3: Completing the Proxy Configuration via the Web UI<a href="#step-3-completing-the-proxy-configuration-via-the-web-ui" class="hash-link" aria-label="Direct link to Step 3: Completing the Proxy Configuration via the Web UI" title="Direct link to Step 3: Completing the Proxy Configuration via the Web UI">​</a></h3>
<p>Next, we will use the Web interface to complete a classic configuration that proxies requests from <code>http://&lt;your-domain&gt;/app/</code> to the backend service <code>http://127.0.0.1:8080/</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-add-an-upstream">1. Add an Upstream<a href="#1-add-an-upstream" class="hash-link" aria-label="Direct link to 1. Add an Upstream" title="Direct link to 1. Add an Upstream">​</a></h4>
<p>The Upstream is the foundation of all configurations.</p>
<ul>
<li>Click on &quot;Upstream Configuration&quot; in the left-hand menu. It defaults to adding a new one; to modify, select the corresponding <code>Upstream</code>.</li>
<li><strong>Name</strong>: Enter a meaningful name, for example, <code>my-app-service</code>.</li>
<li><strong>Addresses</strong>: Enter the actual address of the backend service, for example, <code>127.0.0.1:8080</code>. The weight is generally not needed. If there are multiple nodes, configure them one by one. If the upstream is an HTTPS node, SNI needs to be configured.</li>
</ul>
<p>💡 <strong>Best Practice</strong>: It is strongly recommended that you expand the &quot;Advanced Configuration&quot; panel to configure settings.</p>
<ul>
<li><strong>Timeout Settings</strong>: Set reasonable connection, read, and write timeouts based on your application&#x27;s characteristics to prevent the proxy from being dragged down by unresponsive backend services.</li>
<li><strong>Health Check</strong>: Set a health check endpoint (e.g., <code>http://host/ping</code>). <code>pingap</code> will automatically remove unhealthy backend nodes to improve service availability. The <code>host</code> part will be automatically replaced with the <code>ip:port</code> form during the check. If not set, it defaults to a TCP port check.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-add-a-location">2. Add a Location<a href="#2-add-a-location" class="hash-link" aria-label="Direct link to 2. Add a Location" title="Direct link to 2. Add a Location">​</a></h4>
<p>The Location is responsible for forwarding requests that meet certain conditions to a specified upstream.</p>
<ul>
<li>Click on &quot;Location Configuration&quot; in the left-hand menu. It defaults to adding a new one; to modify, select the corresponding <code>Location</code>.</li>
<li><strong>Name</strong>: Enter a meaningful name, for example, <code>route-for-my-app</code>.</li>
<li><strong>Upstream</strong>: Select the <code>my-app-service</code> we just created from the dropdown.</li>
<li><strong>Host</strong>: Enter the domain name you want to serve externally, for example, <code>app.example.com</code>. This can be left blank if matching by <code>Path</code> is sufficient.</li>
<li><strong>Path</strong>: Enter the path matching rule, for example, <code>/app</code>.</li>
</ul>
<p>💡 <strong>Best Practice</strong>: Enable reverse proxy headers
If <code>Pingap</code> is the entry node, it is recommended to check <code>Enable Reverse Proxy Headers</code>. This will automatically add standard proxy headers like <code>X-Forwarded-For</code> and <code>X-Forwarded-Proto</code>, making it convenient for the backend application to get real client information.</p>
<p>❗ <strong>Note</strong>: If your Upstream service is also a reverse proxy (like Nginx) and it relies on the <code>Host</code> for routing, be sure to set the <code>Host</code> to the value expected by the upstream service in &quot;Set Forwarded Request Headers&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-configure-a-server">3. Configure a Server<a href="#3-configure-a-server" class="hash-link" aria-label="Direct link to 3. Configure a Server" title="Direct link to 3. Configure a Server">​</a></h4>
<p>The Server is the entry point of the proxy. It listens on a specified port and passes requests to the Locations for processing.</p>
<ul>
<li>Click on &quot;Server Configuration&quot; in the left-hand menu. It defaults to adding a new one; to modify, select the corresponding <code>Server</code>.</li>
<li><strong>Name</strong>: Enter a meaningful name, for example, <code>main-http-server</code>.</li>
<li><strong>Listen Address</strong>: Enter the address and port for Pingap to serve externally, for example, <code>0.0.0.0:6188</code> (listens on port 6188 of all network interfaces).</li>
<li><strong>Locations</strong>: Check the <code>route-for-my-app</code> we just created in the dropdown. If you select multiple locations, they will be matched based on each location&#x27;s weight.</li>
</ul>
<p>💡 <strong>Best Practice</strong>: Configure access logs. To facilitate troubleshooting, it is recommended to configure access logs. Choose a preset template (like <code>common</code> or <code>combined</code>) in &quot;Access Log Format&quot; or customize the format as needed.</p>
<p>At this point, all basic configurations are complete! These settings have been automatically saved to <code>.toml</code> files in the <code>/opt/pingap/conf</code> directory.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-running-in-the-background-and-auto-updating">Step 4: Running in the Background and Auto-Updating<a href="#step-4-running-in-the-background-and-auto-updating" class="hash-link" aria-label="Direct link to Step 4: Running in the Background and Auto-Updating" title="Direct link to Step 4: Running in the Background and Auto-Updating">​</a></h3>
<p>Now, we want <code>pingap</code> to run in the background like a real service and automatically apply new configurations when they change.</p>
<p>First, press <code>Ctrl+C</code> to stop the currently running foreground <code>pingap</code> process.</p>
<p>Then, start it with this more complete command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RUST_LOG=INFO pingap -c /opt/pingap/conf \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -d \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --log=/opt/pingap/pingap.log \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --autoreload \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --admin=pingap:YourSecurePassword@127.0.0.1:3018</span><br></span></code></pre></div></div>
<p><strong>New Argument Breakdown</strong>:</p>
<ul>
<li><code>-d</code>: Daemonize, runs the program as a background daemon process.</li>
<li><code>--log=/opt/pingap/pingap.log</code>: Outputs logs to the specified file instead of the terminal.</li>
<li><code>--autoreload</code>: Hot-reload mode (recommended for production). <code>pingap</code> will periodically (about every 10 seconds) check for changes in the configuration files. When configurations for <code>Upstream</code>, <code>Location</code>, <code>Plugin</code>, and <code>Certificate</code> change, it will apply the new settings without restarting and without interrupting service.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use---autorestart">When to use <code>--autorestart</code>?<a href="#when-to-use---autorestart" class="hash-link" aria-label="Direct link to when-to-use---autorestart" title="Direct link to when-to-use---autorestart">​</a></h4>
<p><code>--autorestart</code> is a restart-based update mode. It is used for changing more fundamental configurations, such as a Server&#x27;s listening port. This mode automatically uses the <code>upgrade</code> method to transfer requests from the old instance to the new one, but if you change the listening port, the old port might not be closed. It is recommended only for testing environments or when frequent changes to basic configurations are needed. In production, for changes to basic configurations (which are typically infrequent), it is recommended to perform a graceful restart (<code>upgrade</code>) manually.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-verifying-the-configuration">Step 5: Verifying the Configuration<a href="#step-5-verifying-the-configuration" class="hash-link" aria-label="Direct link to Step 5: Verifying the Configuration" title="Direct link to Step 5: Verifying the Configuration">​</a></h3>
<p>Now that <code>pingap</code> is running stably in the background, let&#x27;s verify that our configuration is working.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-accessing-the-service">1. Accessing the Service:<a href="#1-accessing-the-service" class="hash-link" aria-label="Direct link to 1. Accessing the Service:" title="Direct link to 1. Accessing the Service:">​</a></h4>
<p>Open a browser or use <code>curl</code> to visit <code>http://&lt;pingap-server-ip&gt;:6188/app/some/path</code>. If everything is correct, the request should be successfully forwarded to the backend at <code>http://127.0.0.1:8080/app/some/path</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-testing-hot-reloading">2. Testing Hot-Reloading:<a href="#2-testing-hot-reloading" class="hash-link" aria-label="Direct link to 2. Testing Hot-Reloading:" title="Direct link to 2. Testing Hot-Reloading:">​</a></h4>
<p>Log in to the Web admin interface at <code>http://127.0.0.1:3018</code>.</p>
<p>Go to the &quot;Location&quot; management page, change the path of <code>route-for-my-app</code> from <code>/app</code> to <code>/pingap-app</code>, and save.</p>
<p>Wait a moment (about 10 seconds) and watch the log file <code>tail -f /opt/pingap/pingap.log-YYYY-MM-DD</code>. You should see a log entry similar to <code>reload location success</code>.</p>
<p>At this point, visiting <code>http://&lt;pingap-server-ip&gt;:6188/app/</code> will fail, while visiting <code>http://&lt;pingap-server-ip&gt;:6188/pingap-app/</code> will succeed.</p>
<p>This proves that Pingap&#x27;s dynamic hot-reloading capability is working, and you can adjust routing and upstream policies at any time without interrupting the service.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting_started.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pingap-en/docs/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">What is Pingap?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pingap-en/docs/argument"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Command-Line Arguments and Environment Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#step-1-first-start-and-the-web-admin-interface" class="table-of-contents__link toc-highlight">Step 1: First Start and the Web Admin Interface</a></li><li><a href="#step-2-understanding-the-core-configuration-flow" class="table-of-contents__link toc-highlight">Step 2: Understanding the Core Configuration Flow</a></li><li><a href="#step-3-completing-the-proxy-configuration-via-the-web-ui" class="table-of-contents__link toc-highlight">Step 3: Completing the Proxy Configuration via the Web UI</a></li><li><a href="#step-4-running-in-the-background-and-auto-updating" class="table-of-contents__link toc-highlight">Step 4: Running in the Background and Auto-Updating</a></li><li><a href="#step-5-verifying-the-configuration" class="table-of-contents__link toc-highlight">Step 5: Verifying the Configuration</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024-2025 Tree Xie.</div></div></div></footer></div>
</body>
</html>